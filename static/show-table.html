<html>
  <head>
    <base href="/">
    <title>Direct Reader Display</title>
    <script src="direct-reader-client.js"></script>
    <script>
      window.onload = function () {
        viewInstance = getQueryVariable('instance') ;
        appGUID = getQueryVariable('appGUID') ;
        appInstance = appGUID + ":" + viewInstance ;
        document.getElementById('instanceNum').innerHTML =
        appInstance ; 
        getDBstatus(displayData=true) ;
        console.log("going to request from instance: " + appInstance) ;
        setInterval(function () {
          getDBstatus(displayData=true, instance=appInstance)
          }, 2000) ;
      }
    </script>
  </head>
  <body>
    <h1>Direct Reader Display</h1>
    <p>Showing view of instance: <span id="instanceNum"></span></p>
    <p>Current DB status: <span id="dbstatus"></span></p>
    <table id="dataTable" border=0>
      <tr><th>Key</th><th>Value</th></tr>
      <tbody id="dataBody">
      </tbody>
      <tr>
        <form action="write" method="get">
          <td><input type="text" name="key" /></td>
          <td><button type="submit">Add key</button></td></tr>
    </table>
  </body>
</html>
